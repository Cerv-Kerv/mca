{% extends "layouts/main.html" %}

{% block pageTitle %}
  {% if data['confirm-error'] == 'true' or data['other-reason-error'] == 'true' %}Error: {% endif %}
  Make a payment – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block header %}
  <!-- Blank header with no service name for the start page -->
  {% from "govuk/components/header/macro.njk" import govukHeader %}
{% from "govuk/components/service-navigation/macro.njk" import govukServiceNavigation %}

{{ hmrcHeader({
  serviceUrl : "/",
  signOutHref : "?sign-out",
  useTudorCrown: "true"
}) }}
{{ govukServiceNavigation({
    serviceName: serviceName,
      navigation: [   
      {
      href: "/dashboard/v1/dashboard.html",
      text: "Dashboard"
    },
    {
      href: "#",
      text: "Applications",
      active: true
    },
    {
      href: "#",
      text: "Exams"
    }
],
    slots: {
    },
    classes: "govuk-header--full-width-border"
  }) }}
{% endblock %}

{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "Beta"
    },
    html: 'This is a new service. Help us improve it and <a class="govuk-link" target="_blank" href="#">give your feedback (opens in new tab)</a>.'
  }) }}
  
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}

{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">Make a payment</h1>

      {% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
      {% from "govuk/components/radios/macro.njk" import govukRadios %}
      {% from "govuk/components/input/macro.njk" import govukInput %}
      {% from "govuk/components/button/macro.njk" import govukButton %}

      {# Error Summary #}
      {% if data['confirm-error'] == 'true' or data['other-reason-error'] == 'true' %}
        {% set errorList = [] %}
        
        {% if data['confirm-error'] == 'true' %}
          {% set errorList = (errorList.push({
            text: "Select a payment method",
            href: "#payonline"
          }), errorList) %}
        {% endif %}

        {{ govukErrorSummary({
          titleText: "There is a problem",
          errorList: errorList
        }) }}
      {% endif %}

      {{ govukSummaryList({
        rows: [
          {
            key: {
              text: "Application"
            },
            value: {
              text: "Application title eg Application for Notice of Eligibility (OOW Unlimited II/1)"
            }
          },
          {
            key: {
              text: "Application reference"
            },
            value: {
              text: "12568912XXX220"
            }
          },
          {
            key: {
              text: "Cost"
            },
            value: {
              text: "£220.00"
            }
          }
        ]
      }) }}

<form>
  {{ govukRadios({
  idPrefix: "payonline",
  name: "redirect",
  fieldset: {
    legend: {
      text: "Select a payment method",
      isPageHeading: false,
      classes: "govuk-fieldset__legend--m"
    }
  },
            errorMessage: data['confirm-error'] == 'true' and {
            text: "Select a payment method"
          },
  items: [
    {
      value: "~pay-online.html",
      text: "Online payment"
    },
    {
      value: "~bank-transfer.html",
      text: "Bank transfer"
    },
    {
      value: "~request-an-invoice.html",
      text: "Request an invoice"
    },
        {
      value: "~corporate-payment.html",
      text: "Corporate payment"
    }
  ]
}) }}

{{ govukButton({
  text: "Continue"
}) }}
</form>


{% endblock %}

